<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>카테고리 선택</title>
    <link rel="stylesheet" th:href="@{/css/fragment/header.css}"/>
    <link rel="stylesheet" th:href="@{/css/fragment/sidenav.css}"/>
    <link rel="stylesheet" th:href="@{/css/fragment/chatbot.css}"/>

    <link rel="stylesheet" th:href="@{/css/user/interview/interview-select.css}"/>
</head>
<body>
<div class="background-animation">
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
</div>

<th:block th:replace="~{fragments/common/alert-script :: alert-script}"></th:block>
<header th:replace="~{fragments/header/header :: header}"></header>
<aside th:replace="~{fragments/sidenav/user/user-sidenav :: sidebar}"></aside>

<main>
    <div class="main-container">
        <div class="content-box">
            <div class="page-title">
                학습할 카테고리를 선택하세요
            </div>

            <form th:action="@{/interview/select}" method="post">
                <label class="category-option">
                    <span>💻 알고리즘</span>
                    <input type="checkbox" name="categoryList" value="알고리즘">
                </label>

                <label class="category-option">
                    <span>📊 자료구조</span>
                    <input type="checkbox" name="categoryList" value="자료구조">
                </label>

                <label class="category-option">
                    <span>🗄️ 데이터베이스</span>
                    <input type="checkbox" name="categoryList" value="데이터베이스">
                </label>

                <label class="category-option">
                    <span>⚙️ 운영체제</span>
                    <input type="checkbox" name="categoryList" value="운영체제">
                </label>

                <label class="category-option">
                    <span>🌐 네트워크</span>
                    <input type="checkbox" name="categoryList" value="네트워크">
                </label>

                <label class="category-option">
                    <span>🏗️ 컴퓨터구조</span>
                    <input type="checkbox" name="categoryList" value="컴퓨터구조">
                </label>

                <button type="submit" class="submit-button">시작하기</button>
            </form>
        </div>
    </div>

    <div id="completeModal" class="modal-overlay" style="display: none;">
        <div class="modal-box">
            <p class="modal-message">🎉 모든 질문을 완료했습니다!</p>
            <button class="modal-confirm-button" onclick="closeModal()">확인</button>
        </div>
    </div>
</main>

<th:block th:replace="fragments/common/chatbot-modal :: chatbot"></th:block>

<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function() {
        window.scrollTo(0, 0);
    });

    const message = [[${message}]];
    if (message) {
        document.getElementById('completeModal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('completeModal').style.display = 'none';
    }

    window.addEventListener('pageshow', function(event) {
        window.scrollTo(0, 0);
    });

    window.addEventListener('load', function() {
        window.scrollTo(0, 0);
    });
</script>
</body>
</html>